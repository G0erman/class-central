{% extends 'ClassCentralSiteBundle::base.html.twig' %}

{% block headmeta %}
    <title>Personalization | Class Central</title>
{% endblock %}


{% block content %}
    <div>
        <div class="intro-wrap">
            <div class="description-wrap">
                <h1 class='cc-page-header'>Personalization</h1>
                <p>
                    Personalize your experience by following subjects, universities, and course providers. Get regular updates via email and <b>never miss a course</b>.
                    <br/> <br/>For best results, click the buttons below to <b>Follow</b> least 5 items.
                </p>
            </div>
        </div>

    </div>

    <div class="row">
        <!-- Subjects -->
        <div class="col-md-4">
            <h2>Subjects</h2>
            {# Parent Subjects #}
            {% for subject in subjects.parent  %}
                <div>
                    <div class="header-follow-button ui-theme-light" style="display: inline-block; background-color: transparent;" >
                        {% include 'ClassCentralSiteBundle:Follow:btn.follow.html.twig' with {
                        item : followSubjectItem,
                        item_id : subject.id,
                        itemName: subject.name,
                        followed: user_session.isItemFollowed(followSubjectItem,subject.id),
                        hideItemName: false
                        } %}
                    </div>
                </div>
            {% endfor %}

            {# Children Subjects #}
            {% for  subject in childSubjects  %}
                <div>
                    <div class="header-follow-button ui-theme-light" style="display: inline-block; background-color: transparent;" >
                        {% include 'ClassCentralSiteBundle:Follow:btn.follow.html.twig' with {
                        item : followSubjectItem,
                        item_id : subject.id,
                        itemName: subject.name,
                        followed: user_session.isItemFollowed(followSubjectItem,subject.id),
                        hideItemName: false
                        } %}
                    </div>
                </div>
            {% endfor %}

        </div>

        <!-- Universities and Corporations -->
        <div class="col-md-4">
            {% set insCount = 0 %}
            <h2>Universities</h2>
            <div>
                {% for institution in institutions if insCount <= 63 %}
                    <div>
                        <div class="header-follow-button ui-theme-light" style="display: inline-block; background-color: transparent;" >
                            {% include 'ClassCentralSiteBundle:Follow:btn.follow.html.twig' with {
                                item : followInstitutionItem,
                                item_id : institution.id,
                                itemName: institution.name,
                                followed: user_session.isItemFollowed(followInstitutionItem,institution.id),
                                hideItemName: false
                            } %}
                        </div>
                    </div>
                    {% set insCount = insCount + 1 %}
                {% endfor %}
            </div>
        </div>

        <!-- Providers -->
        <div class="col-md-4">
            <h2> Providers</h2>
            <div>
                {% for provider in providers %}
                    <div>
                        <div class="header-follow-button ui-theme-light" style="display: inline-block; background-color: transparent;" >
                        {% include 'ClassCentralSiteBundle:Follow:btn.follow.html.twig' with {
                            item : followProviderItem,
                            item_id : provider.id,
                            itemName: provider.name,
                            followed: user_session.isItemFollowed(followProviderItem,provider.id),
                            hideItemName: false
                        } %}
                      </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>

{% endblock %}